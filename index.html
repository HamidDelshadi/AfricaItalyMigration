<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Africa: Migrants and Incomes</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="style.css?version=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    
</head>

<body>
  
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <span class="navbar-brand" href="#">Africa: Migrants and Income</span>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navb">
          <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navb">
          <ul class="navbar-nav ml-auto">

            <li class="nav-item">
              <a class="nav-link " data-toggle="tooltip" data-placement="Bottom" title="hamid.delshadi@gmail.com" href="mailto:hamid.delshadi@gmail.com"><span class="fas fa-at"></span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link "  data-toggle="tooltip" data-placement="Bottom" title="https://github.com/HamidDelshadi" href="https://github.com/HamidDelshadi"><span class="fab fa-github"></span></a>
            </li>
            <li class="nav-item">
              <span class="nav-link">Hamid Delshadi</span>
            </li>
          </ul>
        </div>
    </nav>
    <div class="container-fluid"> 
      <div class="row total-info">
        <div id="total-info" class="col-12 total-box">
          <div class="row">
            <div class="col-md-5 col-lg-4">
              <div id="eu-flag" class="center">
                <img class="flag"src="resources/eu.png">
              </div>
              <div class="eu-card total-card">
                <p>EU</p>
                <p id="EU-total-value">982821923</p>
                <p>Asylum Requests (2013-2018)</p>
              </div>
            </div>

            <div class="col-lg-4 col-md-2 d-none d-md-block">
              <div id="total-title" class="center">
                <span class="d-none d-lg-block">Asylum Requests From Africa</span>
                <span class="d-block d-lg-none" >Asylum Requests</span>
              </div>
            </div>

            <div class="col-md-5 col-lg-4">
              <div  id="it-flag" class="center">
                <img class="flag" src="resources/it.png">
              </div>
              <div class="it-card total-card">
                <p>Italy</p>
                <p id="IT-total-value">85002134</p>
                <p>Asylum Requests (2013-2018)</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <ul class="nav nav-tabs justify-content-center year-nav">
            <li class="nav-item">
              <select class="nav-link active" id="select-country-options" onchange="changeCountry(this.options[this.selectedIndex].value)">
            </select>
            </li>
          </ul>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 align-self-center" id="map-col">
          
          <svg id="map-svg" viewbox="0 0 700 600" preserveAspectRatio="xMinYMid">
          </svg>
        </div>
  
        <div class="col-md-6 year-diagram align-self-center">
          
          
          <svg id="year-bar-chart" viewbox="0 0 700 600" preserveAspectRatio="xMinYMin">
          </svg>
          <h5>Number of asylum requests</h5>
          
      
          <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="normalize-years-switch" onchange="normalizeYears()">
            <label class="custom-control-label" for="normalize-years-switch">Normalize by population</label>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <div id="country-chart-nav">
            <ul class="nav nav-tabs justify-content-center">
              <li class="nav-item">
                <button id="country-nav-requests" class="nav-link active" onclick="drawCountryBarChart('requests')">Requests</a>
              </li>
              <li class="nav-item">
                <button id="country-nav-residents" class="nav-link" onclick="drawCountryBarChart('residents')">Residents (IT)</a>
              </li>
              <li class="nav-item">
                <button id="country-nav-population" class="nav-link" onclick="drawCountryBarChart('population')">Population</a>
              </li>
              <li class="nav-item">
                <button id="country-nav-gdp" class="nav-link" onclick="drawCountryBarChart('GDP')">Purchasing Power Parity</a>
              </li>
            </ul>
          </div>
          <div class="options custom-control custom-switch animate__animated" id="normalize-country-switch-div">
            <input type="checkbox" class="custom-control-input" id="normalize-country-switch" onchange="normalizeCountries()">
            <label class="custom-control-label" for="normalize-country-switch">Normalize by population (in 10,000 people)</label>
          </div>
          <svg id="country-bar-chart-horizontal" class="d-none d-md-block"  viewbox="0 0 1500 700" preserveAspectRatio="xMidYMid">
          </svg>

          <svg id="country-bar-chart-vertical" class="d-md-none" viewbox="0 0 700 1000" preserveAspectRatio="xMidYMid">
          </svg>

        </div>
      </div>

      <div class="row">
        <div class="col-12" id="bracket-chart-nav">
          <ul class="nav nav-tabs justify-content-center">
            <li class="nav-item">
              <button id="bracket-nav-requests" class="nav-link active" onclick="drawBracketCharts('requests')">Requests</a>
            </li>
            <li class="nav-item">
              <button id="bracket-nav-residents" class="nav-link" onclick="drawBracketCharts('residents')">Residents (IT)</button>
            </li>
            <li class="nav-item">
              <button id="bracket-nav-population" class="nav-link" onclick="drawBracketCharts('population')">Population</a>
            </li>
          </ul>
          <div class="options custom-control custom-switch animate__animated" id="normalize-bracket-switch-div">
            <input type="checkbox" class="custom-control-input" id="normalize-bracket-switch" onchange="normalizeBracket()">
            <label class="custom-control-label" for="normalize-bracket-switch">Normalize by population (in 10,000 people)</label>
          </div>
        </div>
      </div>
      <div class="row">

        <div class="col-md-6 align-self-center">
          <div id="sunburst-options" class="animate__animated">
            <div class="btn-group">
              <button id="sunburst-eu-button" type="button" class="btn btn-outline-secondary" onclick="sunburstChangeLocation('EU')">EU</button>
              <button id="sunburst-it-button" type="button" class="btn btn-secondary" onclick="sunburstChangeLocation('IT')">Italy</button>
            </div>
          </div>
          <svg id="sunburst">
            <g></g>
          </svg>
          
        </div>
        <div class="col-md-6 align-self-center">
          <svg id="bracket-bar-chart" viewbox="0 0 700 600" preserveAspectRatio="xMidYMid">
          </svg>
        </div>
      </div>
      <div class="row footer">
        <div id="bracket-info" class="info-box mx-auto">

        </div>
      </div>
    </div>
    
    <div class="tooltip info-panel" id="tooltip-country">
      <h6 class="info-country-name">Country</h6>
      <p class="info-sub-title"><span class="info-population">Population:60000000</span>
        <span class="info-GDP">GDP:897</span>
      </p>
      <table >
        <colgroup>
          <col class="col-name">
          <col class="col-number">
          <col class="col-normal">
        </colgroup>
        <thead>
          <tr>
            <th></th>
            <th>request</th>
            <th>request/population</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>EU</td>
            <td class="info-req-EU">1234488</td>
            <td class="info-req-normal-EU">0.01</td>
          </tr>
          <tr>
            <td>IT</td>
            <td class="info-req-IT">143133</td>
            <td class="info-req-normal-IT">0.001</td>
          </tr>
        </tbody>
        
      </table>
      <p class="info-bracket">
        <span class="info-bracket-name badge badge-pill badge-info">Medium Bracket</span>
      </p>
  </div>




<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
<script src="https://d3js.org/d3.v6.min.js"></script>
<script src="https://kit.fontawesome.com/6feb492407.js" crossorigin="anonymous"></script>
<script src="resources/toast.min.js"></script>
<script src="script.js"></script>
</body>