<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Africa: Migrants and Incomes</title>
    <link rel="stylesheet" href="style.css?version=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    
</head>

<body>
  
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <span class="navbar-brand" href="#">Africa: Migrants and Income</span>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navb">
          <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navb">
          <ul class="navbar-nav ml-auto">

            <li class="nav-item">
              <a class="nav-link " data-toggle="tooltip" data-placement="Bottom" title="hamid.delshadi@gmail.com" href="mailto:hamid.delshadi@gmail.com"><span class="fas fa-at"></span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link "  data-toggle="tooltip" data-placement="Bottom" title="https://github.com/HamidDelshadi" href="https://github.com/HamidDelshadi"><span class="fab fa-github"></span></a>
            </li>
            <li class="nav-item">
              <span class="nav-link">Hamid Delshadi</span>
            </li>
          </ul>
        </div>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-6 align-self-center" id="map-col">
          
          <svg id="map-svg" viewbox="0 0 700 600" preserveAspectRatio="xMinYMid">
          </svg>
        </div>
  
        <div class="col-md-6 year-diagram align-self-center">
          <ul class="nav nav-tabs justify-content-center">
            <li class="nav-item">
              <button id="africa-button" class="nav-link active" onclick="showTotal(true)">Africa</a>
            </li>
            <li class="nav-item">
              <button id="selected-country-button" class="nav-link" onclick="showTotal(false)">Select a Country</a>
            </li>
          </ul>
          
          <svg id="year-bar-chart" viewbox="0 0 700 600" preserveAspectRatio="xMinYMin">
          </svg>
          <h5>Number of asylum requests from</h5>
          <h5 id="selected-country-label">Africa</h5>
          <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="normalize-years-switch" onchange="normalizeYears()">
            <label class="custom-control-label" for="normalize-years-switch">Normalize by population</label>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <div id="country-chart-nav">
            <ul class="nav nav-tabs justify-content-center">
              <li class="nav-item">
                <button id="country-nav-requests" class="nav-link active" onclick="drawCountryBarChart('requests')">Requests</a>
              </li>
              <li class="nav-item">
                <button id="country-nav-residents" class="nav-link" onclick="drawCountryBarChart('residents')">Residents</a>
              </li>
              <li class="nav-item">
                <button id="country-nav-population" class="nav-link" onclick="drawCountryBarChart('population')">Population</a>
              </li>
              <li class="nav-item">
                <button id="country-nav-gdp" class="nav-link" onclick="drawCountryBarChart('GDP')">GDP</a>
              </li>
            </ul>
          </div>
          <div class="options custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="normalize-country-switch" onchange="normalizeCountries()">
            <label class="custom-control-label" for="normalize-country-switch">Normalize by population (in 10,000 people)</label>
          </div>
          <svg id="country-bar-chart-horizontal" class="d-none d-md-block"  viewbox="0 0 1500 700" preserveAspectRatio="xMidYMid">
          </svg>

          <svg id="country-bar-chart-vertical" class="d-md-none" viewbox="0 0 700 1000" preserveAspectRatio="xMidYMid">
          </svg>

        </div>
      </div>

      <div class="row">
        <div class="col-12" id="bracket-chart-nav">
          <ul class="nav nav-tabs justify-content-center">
            <li class="nav-item">
              <button id="bracket-nav-requests" class="nav-link active" onclick="drawBracketCharts('requests')">Requests</a>
            </li>
            <li class="nav-item">
              <button id="bracket-nav-residents" class="nav-link" onclick="drawBracketCharts('residents')">Residents</a>
            </li>
            <li class="nav-item">
              <button id="bracket-nav-population" class="nav-link" onclick="drawBracketCharts('population')">Population</a>
            </li>
          </ul>
          <div class="options custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="normalize-bracket-switch" onchange="normalizeBracket()">
            <label class="custom-control-label" for="normalize-bracket-switch">Normalize by population (in 10,000 people)</label>
          </div>
        </div>
      </div>
      <div class="row">

        <div class="col-md-6 align-self-center">
          <div id="sunburst-options">
            <div class="btn-group">
              <button id="sunburst-eu-button" type="button" class="btn btn-outline-secondary" onclick="sunburstChangeLocation('EU')">EU</button>
              <button id="sunburst-it-button" type="button" class="btn btn-secondary" onclick="sunburstChangeLocation('IT')">Italy</button>
            </div>
          </div>
          <svg id="sunburst">
            <g></g>
          </svg>
          
        </div>
        <div class="col-md-6 align-self-center">
          <svg id="bracket-bar-chart" viewbox="0 0 700 600" preserveAspectRatio="xMidYMid">
          </svg>
        </div>
      </div>
      <div class="row footer">

      </div>
    </div>
    


<div class="tooltip">
    <h6 id="tooltip-country-name">Country</h6>
    <p id="tooltip-sub-title"><span id="tooltip-population">Population:60000000</span>
      <span id="tooltip-GDP">GDP:897</span>
    </p>
    <table >
      <colgroup>
        <col class="col-name">
        <col class="col-number">
        <col class="col-normal">
      </colgroup>
      <thead>
        <tr>
          <th></th>
          <th>request</th>
          <th>request/population</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>EU</td>
          <td id="tooltip-req-EU">1234488</td>
          <td id="tooltip-req-normal-EU">0.01</td>
        </tr>
        <tr>
          <td>IT</td>
          <td id="tooltip-req-IT">143133</td>
          <td id="tooltip-req-normal-IT">0.001</td>
        </tr>
      </tbody>
      
    </table>
    <p class="tooltip-bracket">
      <span id="tooltip-bracket-name" class="badge badge-pill badge-info">Medium Bracket</span>
    </p>
</div>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
<script src="https://d3js.org/d3.v6.min.js"></script>
<script src="https://kit.fontawesome.com/6feb492407.js" crossorigin="anonymous"></script>
<script src="script.js"></script>
</body>